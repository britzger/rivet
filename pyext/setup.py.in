#! /usr/bin/env python

from distutils.core import setup, Extension

longdesc = """This is a simple SWIG wrapper on the main steering interface of 
the Rivet event simulation analysis library. It is used to create, query and 
use the Rivet C++ analysis classes from a Python program, of which the prime 
example is Rivet's own command line interface.
"""

## Extension definition
import os
incdir = os.path.abspath('@top_srcdir@/include')
srcdir = os.path.abspath('@top_srcdir@/src')
ext = Extension('_rivet',
                ['@srcdir@/rivet_wrap.cc'],
                define_macros = [("SWIG_TYPE_TABLE", "hepmccompat")],
                include_dirs=[incdir, '@HEPMCINCPATH@', '@BOOSTINCPATH@', '@GSLINCPATH@'],
                #should replace '.libs' -> os.path.join(srcdir,'@LT_OBJDIR@'), but doesn't work
                library_dirs=[srcdir, os.path.join(srcdir,'.libs'), '@HEPMCLIBPATH@', '@GSLLIBPATH@'],
                libraries=['HepMC', 'Rivet'])

## Setup definition
setup(name = 'rivet',
      version = '@PACKAGE_VERSION@',
      ext_modules=[ext],
      py_modules = ['rivet', 'lighthisto'],
      author = ['Andy Buckley'],
      author_email = 'andy@insectnation.org',
      url = 'http://projects.hepforge.org/rivet/',
      description = 'Rivet: a Python interface to the Rivet high-energy physics analysis library.',
      long_description = longdesc,
      keywords = 'generator montecarlo simulation data hep physics particle validation analysis tuning',
      license = 'GPL'
      )
