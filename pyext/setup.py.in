#! /usr/bin/env python

"""\
A simple wrapper on the main steering interface of the Rivet event simulation
analysis library. It is used to create, query and use the Rivet C++ analysis
classes from a Python program: the prime customer is Rivet's own command line
interface and associated scripts.
"""

from distutils.core import setup, Extension

## Extension definition
import os
wrapsrc = '@srcdir@/rivet/rivetwrap_wrap.cc'
incdir_src = os.path.abspath('@top_srcdir@/include')
incdir_build = os.path.abspath('@top_builddir@/include')
libdir = os.path.abspath('@top_builddir@/src/.libs')
libdir_yaml = '@YAML_CPPLIBPATH@'

ext = Extension('_rivetwrap', [wrapsrc],
                include_dirs=[incdir_src, incdir_build, '@HEPMCINCPATH@', '@GSLINCPATH@'],
                extra_compile_args= "-I@prefix@/include @BOOST_CPPFLAGS@ @AM_CPPFLAGS @CPPFLAGS@ @AM_CXXFLAGS @CXXFLAGS@".split(),
                library_dirs=[libdir, libdir_yaml, '@HEPMCLIBPATH@'],
                extra_link_args = "-L@prefix@/lib @LDFLAGS@".split(),
                libraries=['Rivet']) # 'HepMC', 'fastjet', 'yaml-cpp', 'GSL', 'HepPID'

## Setup definition
setup(name = 'Rivet',
      version = '@PACKAGE_VERSION@',
      ext_package = 'rivet',
      ext_modules = [ext],
      py_modules = ['rivet.rivetwrap', 'rivet.__init__', 'rivet.plotinfo', 'rivet.util', 'rivet.spiresbib'],
      author = ['Rivet collaboration'],
      author_email = 'rivet@projects.hepforge.org',
      url = 'http://rivet.hepforge.org',
      description = 'A Python interface to the Rivet high-energy physics analysis library.',
      long_description = __doc__,
      keywords = 'generator montecarlo simulation data hep physics particle validation analysis tuning',
      license = 'GPL'
      )
