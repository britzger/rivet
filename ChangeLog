2008-04-29  Andy Buckley  <andy@insectnation.org>

	* Increased default tolerances in floating point comparisons as
	they were overly stringent and valid f.p. precision errors were
	being treated as significant.

	* Implemented remainder of Acosta UE analysis.

	* Added proper getEtSum() to Jet.

	* Added Et2() member and function to FourMomentum.

	* Added aida2flat conversion script.

	* Fixed ambiguity in TrackJet algorithm as to how the iteration
	continues when tracks are merged into jets in the inner loop.

2008-04-28  Andy Buckley  <andy@insectnation.org>

	* Merged in major "ProjectionHandler" branch. Projections are now
	all stored centrally in the singleton ProjectionHandler container,
	rather than as member pointers in projections and analyses. This
	also affects the applyProjection mechanism, which is now available
	as a templated method on Analysis and Projection. Still a few
	wrinkles need to be worked out.

	* The branch changes required a comprehensive review of all
	existing projections and analyses: lots of tidying up of these
	classes, as well as the auxiliary code like math utils, has taken
	place. Too much to list and track, unfortunately!

2008-03-28  Andy Buckley  <buckley@pc54.hep.ucl.ac.uk>

  * Started second CDF UE analysis ("Acosta"): histograms defined.

  * Fixed anomalous factor of 2 in LWH conversion from Profile1D
    to DataPointSet.

	* Added pT distribution histos to CDF 2001 UE analysis.

2008-03-26  Andy Buckley  <andy@insectnation.org>

	* Removed charged+neutral versions of histograms and projections
	from DELPHI analysis since they just duplicate the more robust
	charged-only measurements and aren't really of interest for
	tuning.

2008-03-10  Andy Buckley  <andy@insectnation.org>

	* Profile histograms now use error computation with proper
	weighting, as described here:
	http://en.wikipedia.org/wiki/Weighted_average

2008-02-28  Andy Buckley  <andy@insectnation.org>

	* Added --enable-jade flag for Professor studies with patched
	FastJet.

	* Minor fixes to LCG tag generator and gfilt m4 macros.

	* Fixed projection slicing issues with Field UE analysis.

	* Added Analysis::vetoEvent(e) function, which keeps track of the
	correction to the sum of weights due to event vetoing in analysis
	classes.

2008-02-26  Andy Buckley  <andy@insectnation.org>

	* Vector<N> and derived classes now initialise to have zeroed
	components when the no-arg constructor is used.

	* Added Analysis::scale() function to scale 1D
	histograms. Analysis::normalize() uses it internally, and the
	DELPHI (A)EEC, whose histo weights are not pure event weights, and
	normalised using scale(h, 1/sumEventWeights).

2008-02-21  Hendrik Hoeth  <hendrik.hoeth@cern.ch>

	* Added EEC and AEEC to the DELPHI_1996_S3430090 analysis. The
	normalisation of these histograms is still broken (ticket #163).

2008-02-19  Hendrik Hoeth  <hendrik.hoeth@cern.ch>

	* Many fixes to the DELPHI_1996_S3430090 analysis: bugfix in the
	calulation of eigenvalues/eigenvectors in MatrixDiag.hh for the
	sphericity, rewrite of Thrust/Major/Minor, fixed scaled momentum,
	hemisphere masses, normalisation in single particle events,
	final state slicing problems in the projections for Thrust,
	Sphericity and Hemispheres.

2008-02-08  Andy Buckley  <andy@insectnation.org>

	* Applied fixes and extensions to DIS classes, based on
	submissions by Dan Traynor.

2008-02-06  Andy Buckley  <andy@insectnation.org>

	* Made projection pointers used for cut combining into const
	pointers. Required some redefinition of the Projection* comparison
	operator.

	* Temporarily added FinalState member to ChargedFinalState to stop
	projection lifetime crash.

2008-02-01  Andy Buckley  <andy@insectnation.org>

	* Fixed another misplaced factor of bin width in the
	Analysis::normalize() method.

2008-01-30  Andy Buckley  <andy@insectnation.org>

	* Fixed the conversion of IHistogram1D to DPS, both via the
	explicit Analysis::normalize() method and the implicit
	AnalysisHandler::treeNormalize() route. The root of the problem is
	the AIDA choice of the word "height" to represent the sum of
	weights in a bin: i.e. the bin width is not taken into account
	either in computing bin height or error.

2008-01-22  Andy Buckley  <andy@insectnation.org>

	* Beam projection now uses HepMC GenEvent::beam_particles() method
	to get the beam particles. This is more portable and robust for
	C++ generators, and equivalent to the existing "first two" method
	for Fortran generators.

2008-01-17  Andy Buckley  <andy@insectnation.org>

	* Added angle range fix to pseudorapidity function (thanks to
	Piergiulio Lenzi).

2008-01-10  Andy Buckley  <andy@insectnation.org>

	* Changed autobooking plot codes to use zero-padding (gets the
	order right in JAS, file browser, ROOT etc.). Also changed the
	'ds' part to 'd' for consistency. HepData's AIDA output has been
	correspondingly updated, as have the bundled data files.

2008-01-04  Andy Buckley  <andy@insectnation.org>

	* Tidied up JetShape projection a bit, including making the
	constructor params const references. This seems to have sorted the
	runtime segfault in the CDF_2005 analysis.

	* Added caching of the analysis bin edges from the AIDA file -
	each analysis object will now only read its reference file once,
	which massively speeds up the rivetgun startup time for analyses
	with large numbhers of autobooked histos (e.g. the
	DELPHI_1996_S3430090 analysis).

2008-01-02  Andy Buckley  <andy@insectnation.org>

	* CDF_2001_S4751469 now uses the LossyFinalState projection, with
	an 8% loss rate.

	* Added LossyFinalState and HadronicFinalState, and fixed a
	"polarity" bug in the charged final state projection (it was
	keeping only the *uncharged* particles).

	* Now using isatty(1) to determine whether or not color escapes
	can be used. Also removed --color argument, since it can't have an
	effect (TCLAP doesn't do position-based flag toggling).

	* Made Python extension build optional (and disabled by default).

2008-01-01  Andy Buckley  <andy@insectnation.org>

	* Removed some unwanted DEBUG statements, and lowered the level of
	some infrastructure DEBUGs to TRACE level.

	* Added bash color escapes to the logger system.

2007-12-21  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* include/LWH/ManagedObject.h: Fixed infinite loop in
	encodeForXML cf. ticket #135.

2007-12-20  Andy Buckley  <andy@insectnation.org>

	* Removed HepPID, HepPDT and Boost dependencies.

	* Fixed XML entity encoding in LWH. Updated CDF_2007_S7057202
	analysis to not do its own XML encoding of titles.

2007-12-19  Andy Buckley  <andy@insectnation.org>

	* Changed units header to set GeV = 1 (HepMC convention) and using
	units in CDF UE analysis.

2007-12-15  Andy Buckley  <andy@insectnation.org>

	* Introduced analysis metadata methods for all analyses (and made
	them part of the Analysis interface).

2007-12-11  Andy Buckley  <andy@insectnation.org>

	* Added JetAlg base projection for TrackJet, FastJet etc.

2007-12-06  Andy Buckley  <andy@insectnation.org>

	* Added checking for Boost library, and the standard Boost test
	program for shared_ptr.

	* Got basic Python interface running - required some tweaking
	since Python and Rivet's uses of dlopen collide (another
	RTLD_GLOBAL issue - see
	http://muttley.hates-software.com/2006/01/25/c37456e6.html )

2007-12-05  Andy Buckley  <andy@insectnation.org>

	* Replaced all use of KtJets projection with FastJets
	projection. KtJets projection disabled but left undeleted for
	now. CLHEP and KtJet libraries removed from configure searches and
	Makefile flags.

2007-12-04  Andy Buckley  <andy@insectnation.org>

	* Param file loading now falls back to the share/RivetGun
	directory if a local file can't be found and the provided name has
	no directory separators in it.

	* Converted TrackJet projection to update the jet centroid with
	each particle added, using pT weighting in the eta and phi
	averaging.

2007-12-03  Andy Buckley  <andy@insectnation.org>

	* Merged all command line handling functions into one large parse
	function, since only one executable now needs them. This removes a
	few awkward memory leaks.

	* Removed rivet executable - HepMC file reading functionality will
	move into rivetgun.

	* Now using HepMC IO_GenEvent format (IO_Ascii and
	IO_ExtendedAscii are deprecated). Now requires HepMC >= 2.3.0.

	* Added forward declarations of GSL diagonalisation routines,
	eliminating need for GSL headers to be installed on build machine.

2007-11-27  Andy Buckley  <andy@insectnation.org>

	* Removed charge differentiation from Multiplicity projection (use
	CFS proj) and updated ExampleAnalysis to produce more useful numbers.

	* Introduced binreloc for runtime path determination.

	* Fixed several bugs in FinalState, ChargedFinalState, TrackJet
	and Field analysis.

	* Completed move to new analysis naming scheme.

2007-11-26  Andy Buckley  <andy@insectnation.org>

	* Removed conditional HAVE_FASTJET bits: FastJet is now compulsory.

	* Merging appropriate RivetGun parts into Rivet. RivetGun currently broken.

2007-11-23  Andy Buckley  <andy@insectnation.org>

	* Renaming analyses to Spires-ID scheme: currently of form
	S<SpiresID>, to become <Expt>_<YYYY>_<SpiresID>.

2007-11-20  Andy Buckley  <andy@insectnation.org>

	* Merged replacement vectors, matrices and boosts into trunk.

2007-11-15  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* src/Analysis.cc, include/Rivet/Analysis.hh: Introduced normalize
	function. See ticket #126.

2007-10-31  Andy Buckley  <andy@insectnation.org>

 	* Tagging as 1.0b2 for HERA-LHC meeting.


2007-10-25  Andy Buckley  <andy@insectnation.org>

	* Added AxesDefinition base interface to Sphericity and Thrust,
	used by Hemispheres.

	* Exposed BinaryCut class, improved its interface and fixed a few
	bugs. It's now used by VetoedFinalState for momentum cuts.

	* Removed extra output from autobooking AIDA reader.

	* Added automatic DPS booking.

2007-10-12  Andy Buckley  <andy@insectnation.org>

	* Improved a few features of the build system

2007-10-09  James Monk

	* Fixed dylib dlopen on Mac OS X.

2007-10-05  Andy Buckley  <andy@insectnation.org>

	* Added new reference files.


2007-10-03  Andy Buckley  <andy@insectnation.org>

	* Fixed bug in configure.ac which led to explicit CXX setting
	being ignored.

	* Including Logging.hh in Projection.hh, hence new transitive
	dependency on Logging.hh being installed. Since this is the normal
	behaviour, I don't think this is a problem.

	* Fixed segfaulting bug due to use of addProjection() in
	locally-scoped contained projections. This isn't a proper fix,
	since the whole framework should be designed to avoid the
	possibility of bugs like this.

	* Added newly built HepML and AIDA reference files for current
	analyses.

2007-10-02  Andy Buckley  <andy@insectnation.org>

	* Fixed possible null-pointer dereference in Particle copy
	constructor and copy assignment: this removes one of two blocker
	segfaults, the other of which is related to the copy-assignment of
	the TotalVisMomentum projection in the ExampleTree analysis.

2007-10-01  Andy Buckley  <andy@insectnation.org>

	* Fixed portable path to Rivet share directory.

2007-09-28  Andy Buckley  <andy@insectnation.org>

	* Added more functionality to the rivet-config script: now has
	libdir, includedir, cppflags, ldflags and ldlibs options.

2007-09-26  Andy Buckley  <andy@insectnation.org>

	* Added the analysis library closer function to the
	AnalysisHandler finalize() method, and also moved the analysis
	delete loop into AnalysisHandler::finalize() so as not to try
	deleting objects whose libraries have already closed.

	* Replaced the RivetPaths.cc.in method for portable paths with
	something using -D defines - much simpler!

2007-09-21  Lars Sonnenschein  <sonne@mail.cern.ch>

	* Added HepEx0505013 analysis and JetShape projection (some fixes
	by AB.)

	* Added GetLorentzJets member function to D0 RunII cone jet projection

2007-09-21  Andy Buckley  <andy@insectnation.org>

	* Fixed lots if bugs and bad practice in HepEx0505013 (to make it
	compile-able!)

	* Downclassed the log messages from the Test analysis to DEBUG
	level.

	* Added isEmpty() method to final state projection.

	* Added testing for empty final state and useful debug log
	messages to sphericity projection.

2007-09-20  Andy Buckley  <andy@insectnation.org>

	* Added Hemispheres projection, which calculates event hemisphere
	masses and broadenings.

2007-09-19  Andy Buckley  <andy@insectnation.org>

	* Added an explicit copy assignment operator to Particle: the
	absence of one of these was responsible for the double-delete
	error.

	* Added a "fuzzy equals" utility function for float/double types
	to Utils.hh (which already contains a variety of handy little
	functions).

	* Removed deprecated Beam::operator().

	* Added ChargedFinalState projection and de-pointered the
	contained FinalState projection in VetoedFinalState.

2007-09-18  Andy Buckley  <andy@insectnation.org>

	* Major bug fixes to the regularised version of the sphericity
	projection (and hence the Parisi tensor projection). Don't trust
	C & D param results from any previous version!

	* Added extra methods to thrust and sphericity projections to get
	the oblateness and the sphericity basis (currently returns dummy
	axes since I can't yet work out how to get the similarity
	transform eigenvectors from CLHEP)

2007-09-14  Andy Buckley  <andy@insectnation.org>

	* Merged in a branch of pluggable analysis mechanisms.

2007-06-25  Jon Butterworth  <jmb@hep.ucl.ac.uk>

	* Fixed some bugs in the root output for DataPoint.h

2007-06-25  Andy Buckley  <andy@insectnation.org>

	* include/Rivet/**/Makefile.am: No longer installing headers for
	"internal" functionality.

	* include/Rivet/Projections/*.hh: Removed the private restrictions
	on copy-assignment operators.

2007-06-18  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* include/LWH/Tree.h: Fixed minor bug in listObjectNames.

	* include/LWH/DataPointSet.h: Fixed setCoordinate functions so
	that they resize the vector of DataPoints if it initially was
	empty.

	* include/LWH/DataPoint.h: Added constructor taking a vector of
	measuremts.

2007-06-16  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* include/LWH/Tree.h: Implemented the listObjectNames and ls
	functions.

	* include/Rivet/Projections/FinalStateHCM.hh,
	include/Rivet/Projections/VetoedFinalState.hh: removed
	_theParticles and corresponding access function. Use base class
	variable instead.

	* include/Rivet/Projections/FinalState.hh: Made _theParticles
	protected.

2007-06-13  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* src/Projections/FinalStateHCM.cc,
	src/Projections/DISKinematics.cc: Equality checks using
	GenParticle::operator== changed to check for pointer equality.

	* include/Rivet/Analysis/HepEx9506012.hh: Uses modified DISLepton
	projection.

	* include/Rivet/Particle.hh: Added member function to check if a
	GenParticle is associated.

	* include/Rivet/Projections/DISLepton.hh,
	src/Projections/DISLepton.cc: Fixed bug in projection. Introduced
	final state projection to limit searching for scattered
	lepton. Still not properly tested.

2007-06-08  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* include/Rivet/Projections/PVertex.hh,
	src/Projections/PVertex.cc: Fixed the projection to simply get the
	signal_process_vertex from the GenEvent. This is the way it should
	work. If the GenEvent does not have a signal_process_vertex
	properly set up in this way, the problem is with the class that
	fills the GenEvent.

2007-06-06  Jon Butterworth  <jmb@hep.ucl.ac.uk>

	* Merged TotalVisibleMomentum and CalMET
	* Added pT ranges to Vetoed final state projection

2007-05-27  Jon Butterworth  <jmb@hep.ucl.ac.uk>

	* Fixed initialization of VetoedFinalStateProjection in ExampleTree

2007-05-27  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* include/Rivet/Projections/KtJets.*: Make sure the KtEvent is
	deleted properly.

2007-05-26  Jon Butterworth  <jmb@hep.ucl.ac.uk>

	* Added leptons to the ExampleTree.
	* Added TotalVisibleEnergy projection, and added output to ExampleTree.

2007-05-25  Jon Butterworth  <jmb@hep.ucl.ac.uk>

	* Added a charged lepton projection

2007-05-23  Andy Buckley  <andy@insectnation.org>

	* src/Analysis/HepEx0409040.cc: Changed range of the histograms to
	the "pi" range rather than the "128" range.

	* src/Analysis/Analysis.cc: Fixed a bug in the AIDA path building.
	Histogram auto-booking now works.

2007-05-23  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* src/Analysis/HepEx9506012.cc: Now uses the histogram booking
	function in the Analysis class.

2007-05-23  Jon Butterworth  <jmb@hep.ucl.ac.uk>

	* Fixed bug in PRD65092002 (was failing on zero jets)

2007-05-23  Andy Buckley  <andy@insectnation.org>

	* Added (but haven't properly tested) a VetoedFinalState projection.

	* Added normalize() method for AIDA 1D histograms.

	* Added configure checking for Mac OS X version, and setting the
	development target flag accordingly.

2007-05-22  Andy Buckley  <andy@insectnation.org>

	* Added an ostream method for AnalysisName enums.

	* Converted Analyses and Projections to use projection lists, cuts
	and beam constraints.

	* Added beam pair combining to the BeamPair sets of Projections
	by finding set meta-intersections.

	* Added methods to Cuts, Analysis and Projection to make Cut
	definition easier.

	* Fixed default fall-through in cut handling switch statement and
	now using -numeric_limits<double>::max() rather than min()

	* Added more control of logging presentation via static flag 
	methods on Log.

	
2007-05-13  Andy Buckley  <andy@insectnation.org>

	* Added self-consistency checking mechanisms for Cuts and Beam
	
	* Re-implemented the cut-handling part of RivetInfo as a Cuts class.
	
	* Changed names of Analysis and Projection name() and handler()
	methods to getName() and getHandler() to be more consistent with
	the rest of the public method names in those classes.


2007-05-02  Andy Buckley  <andy@insectnation.org>

	* Added auto-booking of histogram bins from AIDA XML files. The
	AIDA files are located via a C++ function which is generated from
	RivetPaths.cc.in by running configure.


2007-04-18  Andy Buckley  <andy@insectnation.org>

	* Added a preliminary version of the Rick Field UE analysis, under
	the name PRD65092002.

	
2007-04-19  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* src/Analysis/HepEx0409040.cc: The reason this did not compile
	under gcc-4 is that some iterators into a vector were wrongly
	assued to be pointers and were initialized to 0 and later compared
	to 0. I've changed this to initialize to end() of the
	corresponding vector and to compare with the same end() later.

	
2007-04-05  Andy Buckley  <andy@insectnation.org>

	* Lots of name changes in anticipation of the MCNet
	school. RivetHandler is now AnalysisHandler (since that's what it
	does!), BeamParticle has become ParticleName, and RivetInfo has
	been split into Cut and BeamConstraint portions.

	* Added BeamConstraint mechanism, which can be used to determine
	if an analysis is compatible with the beams being used in the
	generator. The ParticleName includes an "ANY" wildcard for this
	purpose.

	
2006-03-19  Andy Buckley  <andy@insectnation.org>

	* Added "rivet" executable which can read in HepMC ASCII dump
	files and apply Rivet analyses on the events.

	
2007-02-24  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* src/Projections/KtJets.cc: Added comparison of member variables
	in compare() function

	* all: Merged changes from polymorphic-projections branch into
	trunk

2007-02-17  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* all: projections and analysis handlers: All projections which
	uses other projctions now has a pointer rather than a copy of
	those projections to allow for polymorphism. The constructors has
	also been changed to require the used projections themselves,
	rather than the arguments needed to construct them.

	
2007-02-17  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* src/Projections/FinalState.cc,
	include/Rivet/Projections/FinalState.icc (Rivet),
	include/Rivet/Projections/FinalState.hh: Added cut in transverse
	momentum on the particles to be included in the final state.
	

2007-02-06  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* include/LWH/HistogramFactory.h: Fixed divide-by-zero in divide
	function. Also fixed bug in error calculation in divide
	function. Introduced checkBin function to make sure two histograms
	are equal even if they have variable bin widths.

	* include/LWH/Histogram1D.h: In normalize(double), do not do anything
	if the sum of the bins are zero to avoid dividing by zero.
	
	
2007-01-20  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* src/Test/testLWH.cc: Modified to output files using the Tree.

	* configure.ac: Removed AC_CONFIG_AUX_DIR([include/Rivet/Config])
	since the directory does not exist anymore.

	
2006-12-21  Andy Buckley  <andy@insectnation.org>

	* Rivet will now conditionally install the AIDA and LWH headers if
	it can't find them when configure'ing.

	* Started integrating Leif's LWH package to fulfill the AIDA
	duties.

	* Replaced multitude of CLHEP wrapper headers with a single
	RivetCLHEP.h header.

	
2006-11-20  Andy Buckley  <andy@insectnation.org>

	* Introduced log4cpp logging.

	* Added analysis enum, which can be used as input to an analysis
	factory by Rivet users.

	
2006-11-02  Andy Buckley  <andy@insectnation.org>

	* Yet more, almost pointless, administrative moving around of
	things with the intention of making the structure a bit
	better-defined:

	* The RivetInfo and RivetHandler classes have been
	moved from src/Analysis into src as they are really the main Rivet
	interface classes. The Rivet.h header has also been moved into the
	"header root". 

	* The build of a single shared library in lib has been disabled,
	with the library being built instead in src.

	
2006-10-14  Andy Buckley  <andy@insectnation.org>

	* Introduced a minimal subset of the Sherpa math tools, such as
	Vector{3,4}D, Matrix, etc. The intention is to eventually cut the
	dependency on CLHEP.
	
2006-07-28  Andy Buckley  <andy@insectnation.org>

	* Moving things around: all sources now in directories under src
	
2006-06-04  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* Analysis/Examples/HZ95108.*: Now uses CentralEtHCM. Also set GeV
	units on the relevant histograms.

	* Projections/CentralEtHCM.*: Making a special class just to get
	out one number - the summed Et in the central rapidity bin - may
	seem like an overkill. But in case some one else might nees it...

2006-06-03  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* Analysis/Examples/HZ95108.*: Added the hz95108 energy flow
	analysis from HZtool.

	* Projections/DISLepton.*: Since many HERA measurements do not
	care if we have electron or positron beam, it is now possible to
	specify lepton or anti-lepton.

	* Projections/Event.*: Added member and access function for the
	weight of an event (taken from the GenEvent object.weights()[0].

	* Analysis/RivetHandler.*: Now depends explicitly on the AIDA
	interface. An AIDA analysis factory must be specified in the
	constructor, where a tree and histogram factory is automatically
	created. Added access functions to the relevant AIDA objects.

	* Analysis/AnalysisBase.*: Added access to the RivetHandler and
	its AIDA factories.

2005-12-27  Leif Lönnblad  <Leif.Lonnblad@thep.lu.se>

	* configure.ac: Added -I$THEPEGPATH/include to AM_CPPFLAGS.

	* Config/Rivet.h: Added some std incudes and using std::
	declaration.

	* Analysis/RivetInfo.*: Fixed some bugs. The RivetInfo facility
	now works, although it has not been thoroughly tested.

	* Analysis/Examples/TestMultiplicity.*: Re-introduced
	FinalStateHCM for testing purposes but commented it away again.

	* .: Made a number of changes to implement handling of RivetInfo
	objects.

